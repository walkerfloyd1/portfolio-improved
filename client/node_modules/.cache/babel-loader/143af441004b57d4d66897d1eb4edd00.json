{"ast":null,"code":"/**\n * apeman react package for style component.\n * @class ApStyle\n */\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _server = require('react-dom/server');\n\nvar _server2 = _interopRequireDefault(_server);\n\nvar _iftype = require('iftype');\n\nvar _iftype2 = _interopRequireDefault(_iftype);\n\nvar _os = require('os');\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _style_constants = require('./styling/style_constants');\n\nvar _style_string = require('./styling/style_string');\n\nvar _style_string2 = _interopRequireDefault(_style_string);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n/** @lends ApStyle */\n\n\nvar ApStyle = _react2.default.createClass({\n  displayName: 'ApStyle',\n  // --------------------\n  // Specifications\n  // --------------------\n  statics: {\n    stringifyStyle: function stringifyStyle(style) {\n      if (!style) {\n        return '';\n      }\n\n      var isString = _iftype2.default.isString(style);\n\n      return isString ? style : (0, _style_string2.default)(style);\n    },\n    stringifyMediaStyle: function stringifyMediaStyle(style, width) {\n      if (!style) {\n        return '';\n      }\n\n      return '@media (min-width: ' + width + 'px) { ' + ApStyle.stringifyStyle(style) + ' }';\n    },\n    styleContent: function styleContent(elm) {\n      return _server2.default.renderToStaticMarkup(elm).replace(/<style.*?>/, '').replace(/<\\/style.*?>/, '');\n    },\n    DEFAULT_HIGHLIGHT_COLOR: '#38E',\n    DEFAULT_BACKGROUND_COLOR: '#FFF',\n    DEFAULT_DANGER_COLOR: '#B31818',\n    NORMAL_COLOR: '#555',\n    INFO_COLOR: '#0C843A',\n    WARN_COLOR: '#9C9C19',\n    ERROR_COLOR: '#B31818',\n    CAPTION_COLOR: '#999',\n    CAPTION_BORDER_COLOR: '#F0F0F0',\n    COVER_BACKGROUND: 'rgba(255,255,255,0.8)',\n    COVER_COLOR: '#CCC',\n    CONTENT_PADDING: 4,\n    CONTENT_WIDTH: 480,\n    ROW_HEIGHT: 32,\n    CONTAINER_WIDTH: 1024,\n    SMALL_MEDIA_BREAKPOINT: _style_constants.SMALL_MEDIA_BREAKPOINT,\n    MEDIUM_MEDIA_BREAKPOINT: _style_constants.MEDIUM_MEDIA_BREAKPOINT,\n    LARGE_MEDIA_BREAKPOINT: _style_constants.LARGE_MEDIA_BREAKPOINT\n  },\n  propTypes: {\n    data: _react.PropTypes.oneOfType([_react.PropTypes.string, _react.PropTypes.objectOf(_react.PropTypes.object)]),\n    smallMediaData: _react.PropTypes.oneOfType([_react.PropTypes.string, _react.PropTypes.object]),\n    mediumMediaData: _react.PropTypes.oneOfType([_react.PropTypes.string, _react.PropTypes.object]),\n    largeMediaData: _react.PropTypes.oneOfType([_react.PropTypes.string, _react.PropTypes.object]),\n    type: _react.PropTypes.string\n  },\n  getDefaultProps: function getDefaultProps() {\n    return {\n      data: null,\n      smallMediaData: null,\n      mediumMediaData: null,\n      largeMediaData: null,\n      type: 'text/css'\n    };\n  },\n  getInitialState: function getInitialState() {\n    return {};\n  },\n  render: function render() {\n    var s = this;\n    var props = s.props;\n    var styleString = s.getStyleString() || '';\n    var childrenString = s.getChildrenString() || '';\n    return _react2.default.createElement('style', {\n      className: (0, _classnames2.default)('ap-style', props.className),\n      id: props.id || null,\n      type: props.type,\n      dangerouslySetInnerHTML: {\n        __html: styleString + childrenString\n      }\n    });\n  },\n  // --------------------\n  // Specifications\n  // --------------------\n  getStyleString: function getStyleString() {\n    var s = this;\n    var props = s.props;\n    var data = props.data,\n        smallMediaData = props.smallMediaData,\n        mediumMediaData = props.mediumMediaData,\n        largeMediaData = props.largeMediaData;\n    return [ApStyle.stringifyStyle(data), ApStyle.stringifyMediaStyle(smallMediaData, _style_constants.SMALL_MEDIA_BREAKPOINT), ApStyle.stringifyMediaStyle(mediumMediaData, _style_constants.MEDIUM_MEDIA_BREAKPOINT), ApStyle.stringifyMediaStyle(largeMediaData, _style_constants.LARGE_MEDIA_BREAKPOINT)].filter(Boolean).join(_os.EOL);\n  },\n  getChildrenString: function getChildrenString() {\n    var s = this;\n    var children = s.props.children;\n\n    if (!children) {\n      return null;\n    }\n\n    return [].concat(children).map(function (child) {\n      return child;\n    }).join(_os.EOL);\n  }\n});\n\nexports.default = ApStyle;","map":null,"metadata":{},"sourceType":"script"}